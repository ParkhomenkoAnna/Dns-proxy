Структура проекта:
<br>-----------------------------------
<br>main.py - загружает конфигурацию из файла config.json и запускает dns-proxy;
<br>logger.py - создает файл lastlog, куда будет производиться логгирование работы dns-proxy;
<br>dnsparse - содержит несколько классов (DNS_Header, DNS_Flags, DNS_Queries), каждый из которых отвечает за парсинг/
упаковку определенной части dns-сообщения;
<br>dnsproxy - осуществляет работу dns-proxy с помощью библиотеки asyncio:
<br>- получает запросы от клиентов;
<br>- получает из пакета имя запрашиваемого ресурса;
<br>- сверяет domain-name c записями из черного списка;
<br>- в случае когда запрашиваемый ресурс входит в черный список будет формироваться пакет dns-response с кодом ошибки
'0101' ("Refuse") <br>и отправляться клиенту. В ином случае запрос уйдет на вышестоящий dns-сервер, а пришедший от
<br> него ответ перенаправляет клиенту.
<br>
<br>Требования:
<br>-----------------------------------
<br>* python 3.6
<br>* asyncio
<br>
<br>Как запускать:
<br>-----------------------------------
<br>sudo python3 main.py
